{
    "meta": {
      "name": "gentle_slalom_mpc",
      "version": 1,
      "description": "Gentle slalom course - MPC with brake control",
      "control_mode": "velocity_mpc"
    },
    "timing": {
      "dt_s": 0.01,
      "duration_s": 60.0,
      "log_hz": 10.0,
      "real_time_mode": true
    },
    "mpc_config": {
      "target_velocity_mps": 8.0,
      "prediction_horizon": 10,
      "control_horizon": 3,
      "time_step": 0.01,
      
      "weight_velocity": 100.0,
      "weight_accel": 1.0,
      "weight_jerk": 0.1,
      
      "max_torque": 20000.0,
      "max_brake_force": 500.0,
      "max_accel": 3.0,
      "max_decel": 4.0,
      
      "enable_adaptation": true,
      "adaptation_rate": 0.01
    },
    "defaults": {
      "system_enable": true,
      "mode": 0,
      "drive_torque_cmd_nm": 0.0,
      "brake_cmd_pct": 0.0,
      "steer_cmd_deg": 0.0
    },
    "segments": [
      {
        "t0": 0.0,
        "t1": 5.0,
        "steer_cmd_deg": 0.0,
        "comment": "Straight acceleration - learning vehicle dynamics"
      },
      {
        "t0": 5.0,
        "t1": 10.0,
        "steer_cmd_deg": 8.0,
        "comment": "Gentle right - MPC predicts trajectory"
      },
      {
        "t0": 10.0,
        "t1": 15.0,
        "steer_cmd_deg": -8.0,
        "comment": "Gentle left - brake-to-accel transition"
      },
      {
        "t0": 15.0,
        "t1": 20.0,
        "steer_cmd_deg": 8.0,
        "comment": "Right - model adaptation ongoing"
      },
      {
        "t0": 20.0,
        "t1": 25.0,
        "steer_cmd_deg": -8.0,
        "comment": "Left - optimized control active"
      },
      {
        "t0": 25.0,
        "t1": 30.0,
        "steer_cmd_deg": 8.0,
        "comment": "Continue slalom - predictive advantage"
      },
      {
        "t0": 30.0,
        "t1": 35.0,
        "steer_cmd_deg": -8.0,
        "comment": "Slalom left - smooth brake usage"
      },
      {
        "t0": 35.0,
        "t1": 40.0,
        "steer_cmd_deg": 8.0,
        "comment": "Slalom right - high confidence now"
      },
      {
        "t0": 40.0,
        "t1": 45.0,
        "steer_cmd_deg": -8.0,
        "comment": "Slalom left - demonstrate learned model"
      },
      {
        "t0": 45.0,
        "t1": 50.0,
        "steer_cmd_deg": 8.0,
        "comment": "Final slalom right"
      },
      {
        "t0": 50.0,
        "t1": 55.0,
        "steer_cmd_deg": -8.0,
        "comment": "Final slalom left"
      },
      {
        "t0": 55.0,
        "t1": -1.0,
        "steer_cmd_deg": 0.0,
        "comment": "Straighten - optimal steady-state"
      }
    ]
  }